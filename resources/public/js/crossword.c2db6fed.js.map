{"version":3,"sources":["webpack:///./src/views/CrossWord.vue","webpack:///./src/views/CrossWord.vue?2e71","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/CrossWord.vue?53cf"],"names":["id","justify","span","style","tableStyle","board","grid","y","key","x","highlight","showWords","words","word","pattern","found","name","data","margin","width","fontSize","activeSearch","coord","restart","mounted","this","$store","getters","size","dim","Math","ceil","window","innerWidth","height","computed","methods","event","verify","wordSeq","map","e","innerText","join","includes","findWord","coords","range","start","end","r","i","push","seq","table","document","getElementById","rows","cells","row","trigger","Event","li","slice","call","getElementsByTagName","filter","elt","dispatchEvent","target","cellIndex","parentElement","rowIndex","classList","add","length","forEach","remove","textDecoration","dispatch","w","$router","render","__scopeId","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","proto","forced","searchString","String","indexOf","arguments","undefined","$filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","callbackfn","isRegExp","module","exports","it","TypeError","wellKnownSymbol","MATCH","METHOD_NAME","regexp","f","$includes","addToUnscopables","ACCESSORS","1","el"],"mappings":"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","file":"js/crossword.c2db6fed.js","sourcesContent":["<template>\n  <van-row id=\"crossword\" justify=\"center\">\n    <van-col span=\"24\">\n      <table id='grid' :style=\"tableStyle\">\n        <tbody>\n          <tr v-for=\"y in board.grid\" v-bind:key=\"y\">\n            <td v-for=\"x in y\" v-bind:key=\"x\" @click=\"highlight\">{{x}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </van-col>\n  </van-row>\n\n  <van-row justify=\"center\">\n    <van-col span=\"12\">\n    \n    <ul v-if=\"showWords\">\n      <li v-for=\"word in board.words\"\n          v-bind:key=\"word.pattern\"\n          :style=\"word.style\"\n          @found=\"found\">{{word.pattern}}</li>\n    </ul>\n    </van-col>\n  </van-row>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'CrossWord',\n  data() {\n    return {\n      margin: 100,\n      tableStyle: {\n        width: \"70%\",\n        fontSize: \"1.1em\"\n      },\n      activeSearch: [],\n      coord: [],\n      restart: false\n    }\n  },\n  mounted() {\n    const odim = ((900 - 500) / (20 - 12)) / this.$store.getters.size / 1.5 + 100\n    const dim = Math.ceil((window.innerWidth - 50) * 0.7 )\n\n    this.tableStyle = {\n      width: dim + \"px\",\n      height: dim + \"px\",\n      fontSize: 1.2 + \"rem\"\n    }\n  },\n  computed: mapState([\n    'board',\n    'words',\n    'showWords'\n  ]),\n  methods: {\n    highlight(event) {\n      const verify = function (wordSeq, words) {\n        const word = wordSeq.map(function(e) { return e.innerText }).join('')\n        return words.map(function(e) {return e.pattern}).includes(word);\n      }\n\n      const findWord = function(coords){\n        const range = function(start, end) {\n          var r = []\n          for (var i= start; i <= end; i++) { r.push(i) }\n          return r;\n        }\n\n        let seq = []\n        const table = document.getElementById('grid')\n        if (coords[0][0] === coords[1][0]){\n          //vertical\n          seq = range(coords[0][1], coords[1][1]).map(function(e) {\n            return table.rows[e].cells[coords[0][0]]\n          })\n        }\n        else{\n          //horizontal\n          var row = table.rows[coords[0][1]]\n          seq = range(coords[0][0], coords[1][0]).map(function(e){\n            return row.cells[e]\n          })\n        }\n        return seq;\n      }\n\n      const trigger = function(word) {\n        const event = new Event('found');\n        const li = [].slice.call(document.getElementsByTagName('li'))\n          .filter(elt => elt.innerText == word);\n        li[0].dispatchEvent(event)\n      }\n\n      this.coord.push(\n        [event.target.cellIndex,\n         event.target.parentElement.rowIndex])\n      event.target.classList.add(\"active\")\n\n      if (this.coord.length == 2) {\n        const wordSeq = findWord(this.coord)\n        if (verify(wordSeq, this.board.words)) {\n          const word = wordSeq.map(function(e) { return e.innerText }).join('')\n          trigger(word)\n          wordSeq.forEach(function(e){\n            e.classList.remove(\"active\");\n            e.classList.add(\"found\");\n          })\n        }else{\n          // when word exists in dict add has bonus\n          event.target.classList.remove(\"active\");\n          wordSeq.forEach(function(e){\n            e.classList.remove(\"active\");\n          })\n        }\n        this.coord = []\n      }\n    },\n    found(event) {\n      const word = this.board.words.filter(elt => elt.pattern == event.target.innerText);\n      word[0].found = true\n      word[0].style = {textDecoration: \"line-through\"}\n      this.$store.dispatch('incCoins');\n\n      if (this.board.words.filter(w => w.found).length == this.board.words.length) {\n        //inc level\n        this.$store.dispatch('incLevel');\n        // updateBoard\n        this.$store.dispatch('updateBoard');\n        // redirect to home page\n        this.$router.push({ name: 'Home' });\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.van-col--24 {\n  margin: 30px 0;\n}\ntable {\n  margin: 0 auto;\n  padding: 10px;\n  background: floralwhite;\n  color: black;\n  border-radius: 12px;\n}\n\ntd {\n  padding: 0;\n}\n\ntd.active {\n   background: #ecf0c0;\n}\n\ntd.found {\n   background: #b1e6aa;\n}\n</style>\n","import { render } from \"./CrossWord.vue?vue&type=template&id=182035b1&scoped=true&bindings={\\\"margin\\\":\\\"data\\\",\\\"tableStyle\\\":\\\"data\\\",\\\"activeSearch\\\":\\\"data\\\",\\\"coord\\\":\\\"data\\\",\\\"restart\\\":\\\"data\\\",\\\"highlight\\\":\\\"options\\\",\\\"found\\\":\\\"options\\\"}\"\nimport script from \"./CrossWord.vue?vue&type=script&lang=js\"\nexport * from \"./CrossWord.vue?vue&type=script&lang=js\"\n\nimport \"./CrossWord.vue?vue&type=style&index=0&id=182035b1&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-182035b1\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CrossWord.vue?vue&type=style&index=0&id=182035b1&scoped=true&lang=css\""],"sourceRoot":""}